<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>문서의 동적 구성</title>
    <script>
        function createDiv(){
            let obj = document.getElementById("body_id");
            // 엘리먼트 생성
            let newDiv = document.createElement("div");
            newDiv.innerHTML = "새로 생성 되었음.!!";
            newDiv.setAttribute("class", 'myDiv'); // 여러 속성을 설정 할 수 있음.
            newDiv.style.backgroundColor = 'yellow'; // 스타일도 동적으로 적용가능
            // 버튼 만들어서 newDiv에 append
            // 이버튼의 클릭이벤트는 -> 조상을 찾아서 부모를 삭제 (div가 삭제되도록)
            let btn = document.createElement("button");
            btn.innerHTML = "버튼입니다"
            btn.setAttribute("class", "myButton");
            // newDiv.onclick = function(){
            //      // 클릭 이벤트가 일어난 (this) 의 부모 엘리먼트 선택
            //     let del_obj_parent = this.parentElement;// 나보다 상위객체를 할당.
            //     del_obj_parent.removeChild(this); // 부모 요소에서 나를 삭제
            // }
            btn.onclick = function(){
                let del_obj_parent = this.parentElement.parentElement; 
                del_obj_parent.removeChild(this.parentElement); 
            }
            obj.appendChild(newDiv);
            newDiv.appendChild(btn);
             // 부모에 하위요소로 append
            // insertBefore 부모의 하위 엘리먼트의 0번째에 삽입
            // appendChild 부모의 하위 엘리먼트의 마지막에 삽입
            // 엘리먼트.parentElement 해당 엘리먼트의 부모요소
            // 엘리먼트.parentElement.parentElement 해당 엘리먼트의 부모 부모 요소(조상)
        }
    </script>
</head>
<body id="body_id">
    <h3>객체를 동적으로 생성, 삽입, 삭제하는 예제</h3>
    <p>DOM 트리에 동적으로 객체를 삽입할 수 있음.</p>
    <!-- url 링크에서 javascript 이용방법 -->
    <a href="javascript:createDiv()">DIV 생성</a>
</body>
</html>